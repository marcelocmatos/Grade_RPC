{% extends 'base.html' %}

{% block title %}
Guia de Programação RPC
{% endblock %}



{% block content%}
  

    
    <div class="position-absolute top-0 start-0">
      <form method="post" class="form-control-sm">
        <div class="mb-3" style="margin-top:5px; margin-left:50px">
          <h2 class="titulo">Guia de Programação RPC</h2>
          <div class="input-group mb-3">

            <span class="input-group-text" >Data: </span>
            <input type="date" name="data" value="{{ str_date_hoje }}">
          </div>
          <button type="submit" value="Submit" class="btn btn-secondary">Pesquisar</button>
        </div>
      </form>
      </div>
      <div>
        {% with messages = get_flashed_messages(with_categories=true) %}
              {% if messages %}
                  {% for category, message in messages %}
                      <div class="alert alert-{{ category }}">
                          <button type="button" class="m1-2 mb-1 close" data-dismiss="alert" aria-label="Close">
                              <span aria-hidden="true">&times;</span>
                          </button>
                          {{ message }}
                        </div>
                  {% endfor %}
              {% endif %}
        {% endwith %}
      </div>
    <div class="row" style="margin-top:20px; margin-left:400px; margin-right:40px">
      <div class="mb-4">
         <br>
         <table  class="rounded table table-hover table-dark table-bordered border border-3">
            <thead>
               <tr>
                 {% if str_date is not none %}
                <h2>Data da Grade: {{ str_date }}</h2>
                   {% else %}
                   <h2 class="titulo">Data da Grade: {{ str_date_hoje }}</h2>
                {% endif %}
                {% for col in colunas %}
                <th scope="col">{{ col }}</th>
                {% endfor %}
               </tr>
            </thead>
            <tbody>
              {% for dado in dados %}
               <tr>
                {% for col in colunas %}
                  <td>{{ dado[col] }}</td>
                {% endfor %}
               </tr>
              {% endfor %}
            </tbody>
         </table>
      </div>
    </div>
{% endblock %}